{"version":3,"file":"index.js","sources":["../src/locale/es.js","../src/locale/en.js","../src/locale/index.js","../src/useGenerateDateStructureObject.js","../src/useHelpers.js","../src/UI/index.js","../src/SmartReactCalendar.js"],"sourcesContent":["import moment from 'moment'\nimport es from 'moment/locale/es'\n\nmoment.updateLocale('es', {\n    parentLocale: 'es',\n    today: 'Hoy',\n    noDateSelected: 'Seleccione una fecha...'\n});\n\nexport default { es }","import moment from 'moment'\n\nmoment.updateLocale('en', {\n    parentLocale: 'en',\n    today: 'Today',\n    noDateSelected: 'Select a date...'\n});\n\nconst en = moment.localeData('en')\n\nexport default { en }","import es from './es'\nimport en from './en'\n\nexport default { es, en }","import { useMemo } from 'react';\nimport moment from \"moment-timezone\"\n\nconst useGenerateDateStructureObject = (START_DATE, END_DATE) => {\n    const DATES_MEMO = useMemo(() => {\n        const DATES = {}\n\n        const START_DATE_YEAR = START_DATE.year()\n        const START_DATE_MONTH = START_DATE.month()\n        const END_DATE_YEAR = END_DATE.year()\n        const END_DATE_MONTH = END_DATE.month()\n\n        for (let year = START_DATE_YEAR; year <= END_DATE_YEAR; year++) {\n            DATES[year] = []\n\n            let months = []\n            if (START_DATE_YEAR === END_DATE_YEAR) {\n                for (let i = START_DATE_MONTH; i <= END_DATE_MONTH; i++) months.push(i)\n            } else if (year === START_DATE_YEAR) {\n                for (let i = START_DATE_MONTH; i <= 11; i++) months.push(i)\n            } else if (year === END_DATE_YEAR) {\n                for (let i = 0; i <= END_DATE_MONTH; i++) months.push(i)\n            } else {\n                months = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]\n            }\n\n            for (const month of months) {\n                let daysOnMonth = moment(`${year}-${month + 1}`, 'YYYY-MM').daysInMonth()\n\n                for (let day = 1; day <= daysOnMonth; day++) {\n                    if (!DATES[year][month]) DATES[year][month] = []\n                    DATES[year][month].push(day)\n                }\n            }\n        }\n\n        return DATES\n    }, [START_DATE, END_DATE])\n\n    return DATES_MEMO\n}\n\nexport default useGenerateDateStructureObject","import { useCallback } from 'react'\nimport moment from 'moment-timezone'\n\nconst useHelpers = DISABLED_DAYS => {\n    const NOW = moment()\n    const NOW_FORMATED = NOW.format('YYYY-MM-DD')\n\n    const isToday = useCallback(dateString => NOW_FORMATED === dateString)\n    const isSelected = useCallback((dateString1, dateString2) => dateString1 === dateString2)\n    const isDayDisabled = useCallback(dateString => DISABLED_DAYS.includes(dateString))\n\n    const goToday = (btnTodayRef, containerCalendarRef) => {\n        let btnToday = btnTodayRef.current\n        let containerCalendar = containerCalendarRef.current\n\n        containerCalendar.scrollTop = btnToday.offsetTop\n    }\n\n    return [isToday, isSelected, isDayDisabled, goToday]\n}\n\nexport default useHelpers","import styled, { createGlobalStyle } from 'styled-components'\n\nconst MOBILE = '600px'\n\n\nconst SmartReactCalendarGlobalStyle = createGlobalStyle`\n    @import url(\"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;300;400;500;600;700&display=swap\");\n\n    #SmartReactCalendar * {\n        font-family: \"Montserrat\", sans-serif;\n    }\n`\n\nconst CalendarStyled = styled.div`\n    width: 100%;\n    max-width: 500px;\n    border-radius: 4px;\n    position: relative;\n    background: black;\n\n    @media( max-width: ${MOBILE} ){\n        max-width: 320px;\n    }\n`\n\nconst HeaderStyled = styled.div`\n    background: ${props => props.theme.primaryColor};\n    padding: 20px 30px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`\nconst HeaderYearStyled = styled.span`\n    color: white;\n    font-size: 16px;\n\n    @media( max-width: ${MOBILE} ){\n        font-size: 15px;\n    }\n`\nconst HeaderDateSelectedStyled = styled.p`\n    color: white;\n    font-weight: 600;\n    font-size: 30px;\n    margin: 0;\n\n    @media( max-width: ${MOBILE} ){\n        font-size: 22px;\n    }\n`\nconst HeaderBtnTodayStyled = styled.button`\n    background: white;\n    color: ${props => props.theme.secondaryColor};\n    font-weight: 600;\n    outline: none;\n    border: none;\n    padding: 5px 10px;\n    cursor: pointer;\n    font-size: 16px;\n\n    @media( max-width: ${MOBILE} ){\n        font-size: 12px;\n    }\n`\n\n\nconst WeekDaysStyled = styled.div`\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n    text-align: center;\n    background: white;\n    height: 50px;\n    border: 1px solid #0e71e3;\n`\nconst WeekDaysTextStyled = styled.p`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    color: ${props => props.theme.secondaryColor};\n    font-weight: bold;\n    margin: 0;\n    padding: 0;\n\n    font-size: 16px;\n\n    @media( max-width: ${MOBILE} ){\n        font-size: 12px;\n    }\n`\n\nconst CalendarDaysContainerStyled = styled.div`\n    max-height: 300px;\n    height: 100%;\n    overflow-y: auto;\n\n    border-left: 1px solid #ccc;\n    border-right: 1px solid #ccc;\n    border-bottom: 1px solid #ccc;\n\n    position: relative;\n\n    background: linear-gradient(180deg, rgba(255, 255, 255, 1) 80%, rgba(255, 255, 255, 0.8) 100%);\n    padding-bottom: 20px;\n\n    scroll-behavior: smooth;\n\n    border-bottom-left-radius: 4px;\n    border-bottom-right-radius: 4px;\n`\n\n\nconst MonthTitleStyled = styled.p`\n    font-size: 18px;\n    font-weight: bold;\n    text-align: center;\n    padding: 10px;\n    background-color: ${props => props.theme.primaryColor};\n    color: white;\n    margin-top: ${props => props.marginTop ? `${props.marginTop}px` : 0};\n    margin-bottom: 10px;\n\n    @media( max-width: ${MOBILE} ){\n        font-size: 15px;\n    }\n`\nconst MonthContainer = styled.div`\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n`\n\n\nconst DayContainerStyled = styled.div`\n    text-align: center;\n    cursor: pointer;\n    transition: background-color 200ms, color 200ms;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`\nconst DayStyled = styled.span`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 50px;\n    height: 50px;\n\n    color: ${props => props.theme.secondaryColor};\n    font-size: 16px;\n\n    ${props => props.state.includes('today') && `\n        font-weight: bold;\n        border: 1px solid ${props.theme.primaryColor};\n        color: ${props.theme.primaryColor};\n    `}\n    ${props => props.state.includes('weekend') && `\n    `}\n    ${props => props.state.includes('selected') && `\n        border-radius: 50%;\n        font-weight: bold;\n        background-color: ${props.theme.primaryColor};\n        color: white;\n    `}\n    ${props => props.state.includes('disabled') && `\n        cursor: default;\n        color: ${props.theme.disabledDaysColor} !important;\n    `}\n\n    @media( max-width: ${MOBILE} ){\n        width: 40px;\n        height: 40px;\n        font-size: 14px;\n    }\n`\n\nexport {\n    CalendarStyled,\n    HeaderStyled,\n    HeaderYearStyled,\n    HeaderDateSelectedStyled,\n    HeaderBtnTodayStyled,\n    WeekDaysStyled,\n    WeekDaysTextStyled,\n    CalendarDaysContainerStyled,\n    MonthTitleStyled,\n    MonthContainer,\n    DayContainerStyled,\n    DayStyled,\n    SmartReactCalendarGlobalStyle\n}","import React, { useState, useRef, Fragment, useMemo } from 'react'\nimport { ThemeProvider } from 'styled-components'\nimport PropTypes from 'prop-types'\n\nimport moment from 'moment-timezone'\n//locales\nimport locales from './locale/index'\n\nimport useGenerateDateStructureObject from './useGenerateDateStructureObject'\nimport useHelpers from './useHelpers'\nimport {\n    CalendarStyled,\n    HeaderStyled,\n    HeaderYearStyled,\n    HeaderDateSelectedStyled,\n    HeaderBtnTodayStyled,\n    WeekDaysStyled,\n    WeekDaysTextStyled,\n    CalendarDaysContainerStyled,\n    MonthTitleStyled,\n    MonthContainer,\n    DayContainerStyled,\n    DayStyled,\n    SmartReactCalendarGlobalStyle\n} from './UI/index'\n\nconst SmartReactCalendar = ({ selected, startDate, endDate, disabledDays, format, locale, timezone, theme, onChange }) => {\n    moment.tz.setDefault(timezone)\n    moment.locale(locale, locales[locale])\n\n    const START_DATE = moment.isMoment(startDate) ? startDate : moment(startDate)\n    const END_DATE = moment.isMoment(endDate) ? endDate : moment(endDate)\n    const DISABLED_DAYS = disabledDays\n\n    const [dateSelected, setDateSelected] = useState(moment.isMoment(selected) ? selected.format('YYYY-MM-DD') : moment(selected).format('YYYY-MM-DD'))\n    const [isToday, isSelected, isDayDisabled, goToday] = useHelpers(DISABLED_DAYS)\n\n    //Events\n    //useEffect(() => {\n    //    setDateSelected(moment.isMoment(selected) ? selected.format('YYYY-MM-DD') : moment(selected).format('YYYY-MM-DD'))\n    //}, [selected])\n\n    //Refs\n    const btnTodayRef = useRef()\n    const containerCalendarRef = useRef()\n\n    const DATES = useGenerateDateStructureObject(START_DATE, END_DATE)\n\n\n    const selectedMomentDate = !isDayDisabled(dateSelected) ? moment(dateSelected, 'YYYY-MM-DD') : null\n\n    const weekdaysMin = useMemo(() => [\n        moment.weekdaysShort(1),\n        moment.weekdaysShort(2),\n        moment.weekdaysShort(3),\n        moment.weekdaysShort(4),\n        moment.weekdaysShort(5),\n        moment.weekdaysShort(6),\n        moment.weekdaysShort(0),\n    ], [])\n\n    return (\n        <Fragment>\n            {!theme.disabledFont && <SmartReactCalendarGlobalStyle />}\n\n            <ThemeProvider theme={theme}>\n                <CalendarStyled id=\"SmartReactCalendar\">\n                    <HeaderStyled>\n                        <div>\n                            <HeaderYearStyled>{selectedMomentDate ? selectedMomentDate.format('YYYY') : <span style={{ opacity: 0 }}>0000</span>}</HeaderYearStyled>\n                            <HeaderDateSelectedStyled>{selectedMomentDate ? selectedMomentDate.format('ddd, MMM Do') : moment.localeData(locale)._noDateSelected}</HeaderDateSelectedStyled>\n                        </div>\n                        <HeaderBtnTodayStyled ref={btnTodayRef} onClick={() => goToday(btnTodayRef, containerCalendarRef)}>{moment.localeData(locale)._today}</HeaderBtnTodayStyled>\n                    </HeaderStyled>\n\n                    <WeekDaysStyled>\n                        {weekdaysMin.map(weekDay => <WeekDaysTextStyled key={`week-day-${weekDay}`}>{weekDay}</WeekDaysTextStyled>)}\n                    </WeekDaysStyled>\n\n                    <CalendarDaysContainerStyled ref={containerCalendarRef}>\n                        {Object.keys(DATES).map(year => {\n                            return DATES[year].map((days, indexMonth) => {\n                                let arr = []\n\n                                let spaces = moment(`${year}-${indexMonth + 1}`, 'YYYY-MM').day() - 1\n                                for (let x = 0; x < spaces; x++) {\n                                    arr.push(<div key={`space-index-${x}-${year}-${indexMonth + 1}`}></div>)\n                                }\n\n                                return (\n                                    <Fragment key={`month-${indexMonth + 1}`}>\n                                        <MonthTitleStyled marginTop={indexMonth !== START_DATE.month() && 15}>\n                                            {moment(`${indexMonth + 1}`, 'MM').format('MMMM')}\n                                        </MonthTitleStyled>\n                                        <MonthContainer>\n                                            {\n                                                days.map((day, indexDay) => {\n                                                    let currentDate = `${year}-${(indexMonth + 1).toString().padStart(2, '0')}-${day.toString().padStart(2, '0')}`\n                                                    let _isDayDisabled = isDayDisabled(currentDate)\n\n                                                    return (\n                                                        <Fragment key={`day-${currentDate}`}>\n                                                            {indexDay === 0 && arr.map(div => div)}\n                                                            <DayContainerStyled\n                                                                onClick={() => {\n                                                                    if (_isDayDisabled || currentDate === dateSelected) return\n                                                                    setDateSelected(currentDate)\n                                                                    onChange(!format ? currentDate : moment(currentDate, 'YYYY-MM-DD').format(format))\n                                                                }}\n                                                            >\n                                                                <DayStyled state={[\n                                                                    isToday(currentDate) && 'today',\n                                                                    !_isDayDisabled && isSelected(currentDate, dateSelected) && 'selected',\n                                                                    _isDayDisabled && 'disabled'\n                                                                ]}>\n                                                                    {day}\n                                                                </DayStyled>\n                                                            </DayContainerStyled>\n                                                        </Fragment>\n                                                    )\n                                                })\n                                            }\n                                        </MonthContainer>\n                                    </Fragment>\n                                )\n                            })\n                        })}\n                    </CalendarDaysContainerStyled>\n                </CalendarStyled>\n            </ThemeProvider>\n        </Fragment>\n    )\n}\n\nSmartReactCalendar.defaultProps = {\n    selected: moment(),\n    startDate: moment(),\n    endDate: moment().add(2, 'months'),\n    disabledDays: ['2021-01-03'],\n    format: false,\n    locale: 'es',\n    timezone: 'Europe/Madrid',\n    onChange: () => { },\n    theme: {\n        primaryColor: \"#2e88f1\",\n        secondaryColor: \"#111d4a\",\n        disabledDaysColor: \"#c2c2c2\",\n        disabledFont: false,\n    }\n}\n\nconst isMomentOrDate = (props, propName, componentName) => {\n    const prop = props[propName]\n\n    if (moment.isMoment(prop) || prop instanceof Date) return\n\n    return new Error(\n        `Prop ${propName} is invalid. ${propName} need to be a instance of Date or a Moment`\n    );\n}\nconst disabledDaysIsCorrect = (props, propName, componentName) => {\n    const { disabledDays } = props\n    const patt = /^(\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$/\n\n    for (let disabledDay of disabledDays) {\n        let disabledDaysIsValid = patt.test(disabledDay)\n\n        if (!disabledDaysIsValid) {\n            return new Error(\n                `Prop Array disabledDays is invalid, inside this array have this value ${disabledDay}. All dates in disabledDays need to have this patt YYYY-MM-DD`\n            );\n        }\n    }\n}\nSmartReactCalendar.propTypes = {\n    selected: isMomentOrDate,\n    startDate: isMomentOrDate,\n    endDate: isMomentOrDate,\n    format: PropTypes.oneOfType([PropTypes.string, PropTypes.oneOf([false])]),\n    locale: PropTypes.oneOf(['es', 'en']),\n    timezone: PropTypes.string,\n    disabledDays: disabledDaysIsCorrect,\n    theme: PropTypes.object\n}\n\nexport default SmartReactCalendar"],"names":["moment","updateLocale","parentLocale","today","noDateSelected","es","en","localeData","useGenerateDateStructureObject","START_DATE","END_DATE","DATES_MEMO","useMemo","DATES","START_DATE_YEAR","year","START_DATE_MONTH","month","END_DATE_YEAR","END_DATE_MONTH","months","i","push","daysOnMonth","daysInMonth","day","useHelpers","DISABLED_DAYS","NOW","NOW_FORMATED","format","isToday","useCallback","dateString","isSelected","dateString1","dateString2","isDayDisabled","includes","goToday","btnTodayRef","containerCalendarRef","btnToday","current","containerCalendar","scrollTop","offsetTop","MOBILE","SmartReactCalendarGlobalStyle","createGlobalStyle","CalendarStyled","styled","div","HeaderStyled","props","theme","primaryColor","HeaderYearStyled","span","HeaderDateSelectedStyled","p","HeaderBtnTodayStyled","button","secondaryColor","WeekDaysStyled","WeekDaysTextStyled","CalendarDaysContainerStyled","MonthTitleStyled","marginTop","MonthContainer","DayContainerStyled","DayStyled","state","disabledDaysColor","SmartReactCalendar","selected","startDate","endDate","disabledDays","locale","timezone","onChange","tz","setDefault","locales","isMoment","useState","dateSelected","setDateSelected","useRef","selectedMomentDate","weekdaysMin","weekdaysShort","React","Fragment","disabledFont","ThemeProvider","opacity","_noDateSelected","_today","map","weekDay","Object","keys","days","indexMonth","arr","spaces","x","indexDay","currentDate","toString","padStart","_isDayDisabled","defaultProps","add","isMomentOrDate","propName","componentName","prop","Date","Error","disabledDaysIsCorrect","patt","disabledDay","disabledDaysIsValid","test","propTypes","PropTypes","oneOfType","string","oneOf","object"],"mappings":"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"}